# Wreath Exploitation
The information here is related to https://github.com/jtoalu/Nmap-Wreath which can be called as **Wreath Enumeration** (through Nmap). In the *enumeration* step, it was discovered the vulnerability in **MiniServ 1.890 (Webmin httpd)** known as [CVE-2019-15107](https://nvd.nist.gov/vuln/detail/CVE-2019-15107)

1. To access the **Wreath Network** from my Kali on WSL, I utilize the following command: *openvpn [server config file]*. More information about **openvpn** is available on https://openvpn.net/community-resources/how-to/ 
   
   $${\color{red}sudo \space\color{lightgreen}openvpn \space\color{lightblue}myconfig.ovpn}$$
   
I obtained the **server config file** from https://tryhackme.com/r/access (two configuration files are needed: the first one is to connect to a TryHackMe machine from my Kali on WSL and the second one is to connect from the TryHackMe machine to the Wreath network). The Internal Virtual IP Address shall be displayed on https://tryhackme.com/r/access if/when the connection is established correctly. We should be able to ***ping*** the target machine from our Kali if/when the connections is established correctly.

![](https://github.com/jtoalu/wreath-exploitation/blob/main/Screenshot%202024-07-23%20085929.png)

2. The script on https://github.com/MuirlandOracle/CVE-2019-15107 is utilized to exploit the **MiniServ 1.890 (Webmin httpd)** vulnerability. To execute the script successfully, *pip* must be available on the local machine (my Kali on WSL).

![](https://github.com/jtoalu/wreath-exploitation/blob/main/Screenshot%202024-07-23%20102055.png)

If there is an error message at the end of the *pip* installation, check out the information on https://askubuntu.com/questions/1404129/ubuntu-22-04-lts-on-wsl-failed-to-retrieve-available-kernel-versions-failed which basically informs that we can ignore the error message. The *uname* command in Linux is used to display system information, including the kernel version, kernel release details, and hardware architecture. It is commonly used for troubleshooting, system upgrades, and scripting. More information on https://www.howtogeek.com/how-to-use-the-uname-command-on-linux/

3. To execute the https://github.com/MuirlandOracle/CVE-2019-15107 successfully and exploiting the target server, several modules/packages must be downloaded and installed from https://pypi.org/ 

![](https://github.com/jtoalu/wreath-exploitation/blob/main/Screenshot%202024-07-23%20101839.png)

4. After successfully exploiting the target server (see the screenshot in step #1), we should obtain a *root* access on the target server. We can execute various commands to verify that we have the *root* access.

![](https://github.com/jtoalu/wreath-exploitation/blob/main/Screenshot%202024-07-23%20090314.png)

5. Navigate to the folder where **SSH keys** are usually stored and copy the *private key* so that we can access the target server through **ssh** (no need to utilize the script from https://github.com/MuirlandOracle/CVE-2019-15107 anymore).

![](https://github.com/jtoalu/wreath-exploitation/blob/main/Screenshot%202024-07-23%20094128.png)

6. After obtaining the *private key* of the target server, we can ***ssh*** into it and exploring the network connected in the target server as shown by the below screenshot.

![](https://github.com/jtoalu/wreath-exploitation/blob/main/Screenshot%202024-07-24%20183412.png)


Note to Self: https://docs.github.com/en/get-started/writing-on-github/getting-started-with-writing-and-formatting-on-github/basic-writing-and-formatting-syntax and https://stackoverflow.com/questions/11509830/how-to-add-color-to-githubs-readme-md-file
